# KubeEasy - Vue 3 Kubernetes 管理面板

**中文文档** | [English Documentation](./README_EN.md)

基于 Vue 3、TypeScript 和 VxeTable 构建的现代化、响应式 Kubernetes 集群管理面板，提供专业的数据展示体验。

## 🚀 核心特性

### 主要功能
- **实时仪表板**：全面的集群指标和健康状态监控
- **多集群管理**：支持多个 Kubernetes 集群的详细资源跟踪
- **高级表格界面**：基于 VxeTable 的专业数据表格，支持排序、筛选和分页
- **资源管理**：Pod、部署、服务和节点的完整 CRUD 操作
- **认证系统**：安全的登录系统，支持 JWT 令牌管理和路由保护
- **模拟数据集成**：开发友好的模拟 API 系统，支持实时数据模拟

### 用户界面
- **现代化设计**：遵循 Kubernetes 设计原则的清晰直观界面
- **响应式布局**：针对桌面和移动设备优化的完全响应式设计
- **专业表格**：所有数据视图统一使用标准化的 VxeTable 实现
- **交互式组件**：动态进度条、状态徽章和操作按钮
- **侧边栏导航**：层次化导航结构，支持面包屑导航

### 技术特性
- **TypeScript 支持**：完整的类型安全和全面的接口定义
- **状态管理**：基于 Pinia 的响应式状态管理
- **API 抽象层**：统一的 API 层，支持模拟和生产后端
- **组件架构**：可重用的组件系统，关注点分离清晰

## 🛠️ 技术栈

| 类别 | 技术选型 |
|------|----------|
| **前端框架** | Vue 3 (组合式 API)、TypeScript |
| **构建系统** | Vite (ES 模块、快速热更新) |
| **UI 组件** | VxeTable (专业数据表格) |
| **样式系统** | Tailwind CSS + 自定义 CSS 架构 |
| **状态管理** | Pinia (Vue 3 原生状态库) |
| **路由系统** | Vue Router 配合导航守卫 |
| **HTTP 客户端** | Axios 配合请求/响应拦截器 |
| **图标系统** | Lucide Vue Next (现代图标库) |
| **开发工具** | ESLint、Vue DevTools、TypeScript 编译器 |

## 📁 项目架构

```
kubeasy-vue3/
├── src/
│   ├── components/          # 可重用 UI 组件
│   │   ├── table/          # VxeTable 包装器和表格工具
│   │   ├── modal/          # 模态框组件 (BaseModal、FormModal 等)
│   │   ├── form/           # 表单组件和字段工具
│   │   └── icons/          # 图标管理组件
│   ├── views/              # 页面级组件
│   │   ├── system/         # 系统管理 (用户、角色、菜单)
│   │   ├── ClustersView.vue    # 集群管理和资源指标
│   │   ├── NodesView.vue       # 节点监控和使用统计
│   │   ├── PodsView.vue        # Pod 管理和筛选
│   │   ├── DeploymentsView.vue # 部署扩缩容和管理
│   │   └── ServicesView.vue    # 服务发现和网络管理
│   ├── services/           # API 层和数据管理
│   │   ├── kubernetesApi.ts    # 统一 API 服务
│   │   ├── mockData.ts         # 模拟数据生成
│   │   └── config.ts           # 配置管理
│   ├── stores/             # Pinia 状态存储
│   │   └── auth.ts         # 认证状态管理
│   ├── router/             # Vue Router 配置
│   │   └── index.ts        # 路由定义和守卫
│   └── assets/             # 静态资源和全局样式
│       └── main.css        # 全局 CSS 和组件类
├── public/                 # 静态公共资源
├── docs/                   # 文档文件
└── 配置文件                # Vite、TypeScript、ESLint、Tailwind 配置
```

## 🚀 快速开始

### 环境要求
- **Node.js**: 版本 20.19.0+ 或 22.12.0+
- **包管理器**: npm (推荐) 或 yarn
- **浏览器**: 支持 ES2020+ 的现代浏览器

### 安装步骤

1. **克隆代码库**
   ```bash
   git clone <repository-url>
   cd kubeasy-vue3
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **启动开发服务器**
   ```bash
   npm run dev
   ```

4. **访问应用**
   - 在浏览器中打开 `http://localhost:5173`
   - 使用开发凭据登录 (详见认证部分)

### 开发命令

```bash
# 开发服务器 (支持热模块替换)
npm run dev

# 类型检查 (TypeScript 编译检查)
npm run type-check

# 生产构建 (包含类型检查)
npm run build

# 生产构建 (不含类型检查，更快)
npm run build-only

# 代码检查和自动修复
npm run lint

# 本地预览生产构建
npm run preview
```

## 🔐 认证系统

### 开发登录凭据

开发和测试环境下的预设账户：

| 用户名 | 密码 | 角色 | 说明 |
|--------|------|------|------|
| `dukuan` | `Q_Q727585266` | admin | 主管理员账户 |
| `admin` | `admin123` | admin | 标准管理员权限 |
| `user` | `user123` | user | 普通用户权限 |
| `developer` | `dev123` | developer | 开发者角色权限 |

### 认证流程
1. **登录过程**：凭据通过模拟/真实 API 验证
2. **令牌管理**：JWT 令牌安全存储在 localStorage 中
3. **路由保护**：导航守卫重定向未认证用户
4. **自动退出**：无效/过期令牌触发自动退出登录

## 💼 核心功能指南

### 仪表板概览
- **集群指标**：所有集群的实时资源利用率
- **健康指示器**：带有颜色编码警报的状态监控
- **资源摘要**：CPU、内存和节点统计信息
- **交互式图表**：进度条和使用情况可视化

### 集群管理
- **多集群视图**：基于 VxeTable 的专业表格界面
- **资源监控**：CPU/内存使用情况与进度指示器
- **连接方式**：支持 kubeconfig、令牌和证书
- **集群操作**：查看、编辑和删除操作

### 节点监控
- **统计仪表板**：显示节点总数、健康状态的概览卡片
- **详细表格视图**：包含使用指标的全面节点信息
- **基于角色的显示**：master 和 worker 节点的视觉区分
- **资源利用率**：实时 CPU 和内存使用跟踪

### Pod 管理
- **命名空间筛选**：按 Kubernetes 命名空间筛选 Pod
- **状态监控**：带有视觉指示器的实时 Pod 状态
- **资源指标**：CPU 和内存消耗跟踪
- **生命周期管理**：完整的 Pod 生命周期操作

### 服务发现
- **服务类型**：支持 ClusterIP、NodePort、LoadBalancer、ExternalName
- **端口映射**：详细的端口配置显示
- **端点监控**：实时端点状态跟踪
- **网络配置**：服务网络详细信息

### 部署控制
- **副本管理**：交互式部署扩缩容控制
- **滚动更新**：更新状态监控和回滚功能
- **镜像管理**：容器镜像信息和版本控制
- **健康监控**：部署健康状况和可用性跟踪

## 🎨 UI/UX 设计系统

### 设计原则
- **一致性**：所有视图中统一的组件行为
- **可访问性**：键盘导航和屏幕阅读器支持
- **性能**：针对大型数据集优化的渲染
- **响应式**：移动优先的响应式设计方法

### 组件标准
- **表格**：具有标准化列定义和操作的 VxeTable
- **表单**：一致的表单布局和验证反馈
- **模态框**：用于所有对话框交互的可重用模态框组件
- **导航**：层次化侧边栏配合面包屑导航

### 色彩方案
```css
主要颜色:
- Kubernetes 蓝: #326ce5
- 成功绿: #10b981
- 警告橙: #f59e0b
- 错误红: #ef4444

中性颜色:
- 深灰: #1f2937
- 中灰: #6b7280
- 浅灰: #f3f4f6
```

## ⚙️ 配置与自定义

### 模拟数据配置
使用开发面板在模拟和真实 API 数据之间切换：
```typescript
// 通过开发环境中的浮动 MockConfigPanel 访问
// 或以编程方式:
import { mockConfig } from '@/services/config'
mockConfig.setMockEnabled(true/false)
```

### 添加新资源
1. **创建接口**：在 `services/kubernetesApi.ts` 中定义 TypeScript 接口
2. **添加 API 方法**：在 `KubernetesApiService` 类中实现 API 调用
3. **创建视图组件**：在 `src/views/` 中按照现有模式添加新视图
4. **更新路由**：在 `src/router/index.ts` 中添加路由定义
5. **更新导航**：在侧边栏导航中添加菜单项

### 自定义样式
- **全局样式**：修改 `src/assets/main.css` 进行应用范围的更改
- **组件样式**：在单个组件中使用作用域 CSS
- **Tailwind 配置**：自定义 `tailwind.config.js` 以更改设计系统

## 🔧 开发工作流

### 代码风格和标准
- **TypeScript**：启用严格模式和全面类型检查
- **ESLint**：代码质量和一致性强制执行
- **Vue 3 组合式 API**：现代响应式编程模式
- **组件约定**：一致的命名和结构模式

### 测试策略
- **模拟数据测试**：用于开发的全面模拟数据系统
- **用户认证**：使用多种用户角色和权限进行测试
- **API 集成**：模拟和生产 API 之间的轻松切换
- **跨浏览器测试**：支持所有现代浏览器

### 性能优化
- **代码分割**：Vite 基于路由的自动代码分割
- **懒加载**：动态导入以优化包体积
- **表格虚拟化**：高效处理表格中的大型数据集
- **图片优化**：优化的资源加载和缓存

## 🌐 浏览器兼容性

| 浏览器 | 最低版本 | 状态 |
|--------|----------|------|
| Chrome | 90+ | ✅ 完全支持 |
| Firefox | 88+ | ✅ 完全支持 |
| Safari | 14+ | ✅ 完全支持 |
| Edge | 90+ | ✅ 完全支持 |

## 📱 移动端支持

- **响应式设计**：移动优先的响应式布局
- **触摸优化**：触摸友好的控件和交互
- **自适应导航**：移动设备的可折叠侧边栏
- **性能优化**：在移动设备上的高效渲染

## 🤝 贡献指南

### 开发环境设置
1. Fork 代码库
2. 创建功能分支：`git checkout -b feature/功能名称`
3. 遵循现有的代码模式和约定
4. 编写全面的 TypeScript 接口
5. 使用模拟和真实数据进行测试
6. 根据需要更新文档

### 提交标准
```bash
# 提交信息格式
type(scope): description

# 示例:
feat(tables): 为 ServicesView 添加 VxeTable 集成
fix(auth): 解决令牌刷新问题
docs(readme): 更新安装说明
```

### 拉取请求流程
1. 确保所有测试通过且 TypeScript 编译成功
2. 更新相关文档
3. 遵循既定的代码审查流程
4. 尽可能保持向后兼容性

## 📄 许可证

本项目基于 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

- **Kubernetes 社区**：提供了出色的容器编排平台
- **Vue.js 团队**：提供了优秀的 Vue 3 框架
- **VxeTable**：提供了专业的表格组件库
- **Tailwind CSS**：提供了实用优先的 CSS 框架
- **Vite**：提供了快速的构建工具和开发体验

## 📞 支持与社区

- **问题反馈**：通过 GitHub Issues 报告错误和请求功能
- **讨论交流**：在 GitHub Discussions 中参与社区讨论
- **文档资源**：`/docs` 目录中提供全面指南
- **更新动态**：关注项目获取最新更新和发布

---

**用 ❤️ 为 Kubernetes 社区打造**